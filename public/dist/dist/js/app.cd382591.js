(function(t){function e(e){for(var a,i,r=e[0],c=e[1],u=e[2],p=0,d=[];p<r.length;p++)i=r[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,r=1;r<s.length;r++){var c=s[r];0!==n[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},n={app:0},o=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0720":function(t,e,s){"use strict";var a=s("8156"),n=s.n(a);n.a},"452c":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("a026"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],i={name:"app",mounted:function(){this.$store.commit("setVue",this),document.addEventListener("plusready",(function(){var t=plus.webview.currentWebview();plus.key.addEventListener("backbutton",(function(){t.canBack((function(e){if(e.canBack)t.back();else{var s=null;plus.key.addEventListener("backbutton",(function(){s?(new Date).getTime()-s<1500&&plus.runtime.quit():(s=(new Date).getTime(),setTimeout((function(){s=null}),1e3))}),!1)}}))}))}))}},r=i,c=(s("0720"),s("b0a0"),s("2877")),u=Object(c["a"])(r,n,o,!1,null,null,null),l=u.exports,p=(s("d3b7"),"");p="http://cg.aoranjianzhong.com/api/api/";var d=s("bc3a"),f=s.n(d),h=s("2f62");a["a"].use(h["a"]);var b={userInfo:{},token:"",_this:""},m={setVue:function(t,e){t._this=e},setUserInfo:function(t,e){window.localStorage.setItem("userinfo",JSON.stringify(e));var s=Object.assign({},t.userInfo,e);t.userInfo=s},setToken:function(t,e){window.localStorage.setItem("token",e),t.token=e},getUserInfo:function(t){var e=JSON.parse(window.localStorage.getItem("userinfo")),s=Object.assign({},t.userInfo,e);return t.userInfo=s,t.userInfo},getToken:function(t){var e=window.localStorage.getItem("token");return console.log(e),t.token=e,t.token}},v={},g={},w=new h["a"].Store({state:b,mutations:m,getters:v,action:g});function _(t){var e;return console.log(t),w.commit("getUserInfo"),e=data,new Promise((function(s,a){f.a.get(t,{params:e}).then((function(t){s(t.data)})).catch((function(t){a(t)}))}))}function k(t){var e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return console.log(t),w.commit("getUserInfo"),e=s,new Promise((function(s,a){f.a.post(t,e).then((function(t){s(t.data)}),(function(t){a(t)}))}))}f.a.defaults.timeout=1e4,f.a.defaults.baseURL=p,f.a.interceptors.request.use((function(t){return t.url&&(t.headers["Content-Type"]="application/json",t.headers["accessToken"]=w.state.userInfo.token),t}),(function(t){return Promise.reject(t)})),f.a.interceptors.response.use((function(t){if(t.data)return t;w.state._this.$toast(t.data.error_msg)}),(function(t){if(t&&t.response)switch(console.log(t.response.status),t.response.status){case 400:w.state._this.$toast("请求错误(400)");break;case 401:w.state._this.$toast("未授权，请重新登录(401)");break;case 403:w.state._this.$toast("拒绝访问(403)");break;case 404:w.state._this.$toast("请求出错(404)");break;case 408:w.state._this.$toast("请求超时(408)");break;case 500:w.state._this.$toast("服务器错误(500)");break;case 501:w.state._this.$toast("服务未实现(501)");break;case 502:w.state._this.$toast("网络错误(502)");break;case 503:w.state._this.$toast("服务不可用(503)");break;case 504:w.state._this.$toast("网络超时(504)");break;case 505:w.state._this.$toast("HTTP版本不受支持(505)");break;default:w.state._this.$toast("连接出错(${err.response.status})!")}else w.state._this.$toast("连接服务器失败!");return Promise.reject(t)}));var y=s("343b"),$=s("b970"),C=(s("157a"),s("8c4f")),x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"data-box"},[t._m(0),t._m(1),s("div",{staticClass:"form-box"},[s("van-form",{attrs:{"label-width":80}},[s("van-field",{attrs:{type:"number",name:"手机号码",label:"手机号码"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),s("van-field",{attrs:{type:"password",name:"密码",label:"密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("van-field",{attrs:{type:"password",name:"密码",label:"确认密码"},model:{value:t.password1,callback:function(e){t.password1=e},expression:"password1"}}),s("van-field",{staticClass:"code-box",attrs:{center:"",clearable:"",label:"验证码"},scopedSlots:t._u([{key:"button",fn:function(){return[s("van-button",{attrs:{size:"small",type:"primary"},on:{click:t.getcode}},[t._v(t._s(t.btntxt))])]},proxy:!0}]),model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),s("van-field",{attrs:{name:"推荐码",label:"推荐码",readonly:!0},model:{value:t.autoCode,callback:function(e){t.autoCode=e},expression:"autoCode"}}),s("div",{staticClass:"btn-bottom",on:{click:t.onSubmit}},[s("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",loading:t.loading}},[t._v("提交资料")])],1)],1)],1)])},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top-box"},[s("div",{staticClass:"position1"}),s("div",{staticClass:"position2"}),s("div",{staticClass:"text-box"},[s("span",{staticClass:"s1"},[t._v("全民参与")]),s("span",{staticClass:"s2"},[t._v("斑马"),s("br"),t._v("打卡")]),s("span",{staticClass:"s3"},[t._v("邀请好友可获取金币")]),s("span",{staticClass:"s4"},[t._v("立即参与")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-title"},[s("span",{staticClass:"s1"}),s("span",{staticClass:"s2"}),s("span",{staticClass:"s3"}),s("span",{staticClass:"s4"},[t._v("填写你的信息")]),s("span",{staticClass:"s3"}),s("span",{staticClass:"s2"}),s("span",{staticClass:"s1"})])}],O={name:"register",data(){return{title:"邀请注册",phone:"",password:"",password1:"",code:"",autoCode:"",disabled:!1,loading:!1,btntxt:"获取验证码"}},created(){this.$route.query.code&&(this.autoCode=this.$route.query.code)},mounted(){},methods:{getcode(){if(""==this.phone)return this.$toast("手机号不能为空"),!1;{this.time=60,this.disabled=!0,this.timer();let t={phone:this.phone};this.$post("/getCode",t).then(t=>{console.log(t),0==t.code?this.$toast("请注意接收验证码"):(this.$toast(t.message),this.disabled=!1,this.btntxt="获取验证码",this.time=0)}).catch((function(t){console.log(t)}))}},timer(){this.time>0?(this.time--,this.btntxt=this.time+"s后获取",setTimeout(this.timer,1e3)):(this.time=0,this.btntxt="获取验证码",this.disabled=!1)},onSubmit(){if(""==this.phone)return this.$toast("手机号不能为空"),!1;if(""==this.password)return this.$toast("请输入密码"),!1;if(""==this.password1)return this.$toast("请再次输入密码"),!1;if(this.password1!=this.password)return this.$toast("两次输入的密码不一致"),!1;if(""==this.code)return this.$toast("请输入验证码"),!1;this.loading=!0;let t={};t.phone=this.phone,t.password=this.password,t.surePass=this.password1,t.code=this.code,t.inviterCode=this.autoCode,this.$post("/register",t).then(t=>{1==t.code?(this.$toast("注册成功"),this.$router.go(0)):this.$toast(t.message),this.loading=!1,console.log(t)})}},components:{}},I=O,S=I,P=(s("c5b3"),Object(c["a"])(S,x,j,!1,null,"255b1911",null)),T=P.exports;a["a"].use(C["a"]);var E=new C["a"]({mode:"history",routes:[{path:"/",component:T,meta:{title:"注册"}},{path:"/index",component:T,meta:{title:"注册"}}]});a["a"].use(y["a"],{lazyComponent:!0}),a["a"].use($["a"]),a["a"].config.productionTip=!1,a["a"].prototype.$get=_,a["a"].prototype.$post=k,E.beforeEach((function(t,e,s){console.log(t),console.log(t.path),t.meta.title&&(document.title=t.meta.title),s()})),new a["a"]({router:E,store:w,render:function(t){return t(l)}}).$mount("#app")},8156:function(t,e,s){},"8edf":function(t,e,s){},b0a0:function(t,e,s){"use strict";var a=s("452c"),n=s.n(a);n.a},c5b3:function(t,e,s){"use strict";var a=s("8edf"),n=s.n(a);n.a}});
//# sourceMappingURL=app.cd382591.js.map